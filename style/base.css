/* ----------- 一、页面框架与控件 ------------- */

/**** 顶部工具栏 toolbar ****/
.toolbar {
  background-color: var(--dock-background);
  border-bottom: var(--dock-border);
}
#toolbar {
  height: 0;
  padding-left: 80px;
  justify-content: flex-start;
  /* background-color: #fafafa; */
}

#toolbar > #barDock,
#barThemeMode,
#barBack,
#barForward {
  display: none;
}

#toolbar > #toolbarVIP {
  position: absolute;
  left: 193px;
  top: 6px;
}

#toolbar > #barDailyNote {
  position: absolute;
  left: 80px;
  top: 6px;
}

#toolbar > #barSearch {
  position: absolute;
  left: 108px;
  top: 6px;
}

#toolbar > #barSync {
  position: absolute;
  left: 136px;
  top: 6px;
}
#toolbar > #barMore {
  position: absolute;
  left: 165px;
  top: 7px;
}

#toolbar svg {
  opacity: 0.7;
  width: 12px;
  height: 12px;
}

#toolbar svg:hover {
  color: #333;
}

#toolbar > #barMore > svg {
  width: 10px;
}

/**** 停靠栏 dock ****/
#dockLeft,
#dockRight,
#dockTop,
#dockBottom {
  background-color: var(--dock-background);
}

#dockLeft {
  border-right: var(--dock-border);
}

#dockRight {
  border-left: var(--dock-border);
}

#dockTop {
  border-bottom: var(--dock-border);
}

#dockBottom {
  border-top: var(--dock-border);
}

/**** 边栏 column ****/
/* 边栏面板 */

/* 边栏标题栏 */
.block__icons {
  /*     background-color: var(--b3-theme-surface);
  color: var(--b3-theme-on-surface); */
}
.block__icons .counter {
  background-color: transparent;
}
/* 边栏列表项 */
[data-type="navigation"] .b3-list-item {
  padding: 5px 10px;
  opacity: 0.85;
}

.b3-list-item,
.b3-list-item__text {
  color: var(--b3-theme-on-surface);
}

.b3-list--files .b3-list-item__icon {
  color: var(--b3-theme-on-background);
}

.file-tree [data-type="navigation-file"] .b3-list-item__text {
  opacity: 1;
}

/* 边栏搜索 */
.search__label .b3-form__icon-input {
  background-color: transparent;
}

/* 边栏分割线 */
.layout__resize--lr:after {
  background-color: var(--column-border);
}

/* 左边栏 */

.fn__flex-shrink,
.fn__flex-shrink .block__icons {
  background-color: var(--left-sidebar-background);
  color: var(--left-sidebar-color);
}

.fn__flex-shrink .b3-list-item__text,
.fn__flex-shrink .b3-list-item__graphic,
.toolbar__item,
.dock__item {
  color: var(--left-sidebar-color);
}

.fn__flex-shrink div {
  background: transparent;
}

/* 内容区 - 大纲/文档树 - 公共 */
#dockRight,
#dockLeft {
  display: none;
}
#layouts > .fn__flex-1 > .fn__flex-column:first-child {
  padding-top: 34px;
  min-height: 0;
  /* background-color: #fafafa; */
}
#layouts > .fn__flex-1 > .layout__resize--lr {
  height: 100%;
}
#layouts .layout-tab-container > .file-tree {
  /* background-color: #fafafa; */
}
#layouts .layout-tab-container > .file-tree > .block__icons {
  /* background-color: #fafafa; */
  border-top: 1px solid #efefef;
  padding: 2px 4px;
}
#layouts .layout-tab-container > .file-tree > .block__icons > div.block__logo {
  font-size: 12px;
  color: #999;
  padding-left: 14px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > .block__logo
  > svg {
  display: none;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="focus"]
  > svg {
  height: 9px;
  width: 9px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="collapse"]
  > svg {
  height: 9px;
  width: 9px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="collapse"]
  > svg:hover {
  color: #000;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > div[data-type="more"]
  > svg:hover {
  color: #000;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > div[data-type="more"]
  > svg {
  height: 10px;
  width: 10px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="min"] {
  display: none;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="collapse"],
span[data-type="focus"],
div[data-type="more"] > svg {
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > ul:last-child
  > li[data-type="toggle"] {
  font-size: 12px;
  border-top: 1px solid #efefef;
  padding-top: 4px;
  padding-bottom: 4px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > ul:last-child
  > li[data-type="toggle"]
  > .b3-list-item__toggle
  > svg {
  height: 6px;
  width: 10px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > ul:last-child
  > li[data-type="toggle"]
  > .b3-list-item__toggle:hover
  > svg {
  color: #000;
}
#layouts
  .layout-tab-container
  > .file-tree
  > ul:last-child
  > li[data-type="toggle"]
  > .b3-list-item__text {
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > ul:last-child
  > li[data-type="toggle"]
  > .b3-list-item__text:hover {
  color: #655757;
}

/* 内容区 - 标签/书签 */
.layout-tab-bar .item__icon > img,
.layout-tab-bar .item__icon > svg {
  height: 18px;
  width: 18px;
  padding-bottom: 2px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="refresh"]
  > svg {
  height: 11px;
  width: 11px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="expand"]
  > svg {
  height: 8px;
  width: 8px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="expand"]:hover
  > svg {
  color: #000;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="collapse"]
  > svg {
  height: 9px;
  width: 9px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .block__icons
  > span[data-type="sort"]
  > svg {
  height: 10px;
  width: 10px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1:last-child
  > .b3-list
  > .b3-list-item
  > svg {
  margin-right: 12px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1:last-child
  > .b3-list
  > .b3-list-item
  > span:last-child {
  margin-left: 20px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1:last-child
  > .b3-list
  > .b3-list--empty {
  padding: 4px 24px;
  color: #888;
}

/* 内容区 - 文档树专属 */
.b3-list--background .b3-list-item {
  padding-top: 2px;
  padding-bottom: 2px;
}
.b3-list--background .b3-list-item:hover:not(.b3-list-item--focus) {
  border-radius: 4px;
  background-color: #e9eaea9d;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1
  > .b3-list--background {
  padding-left: 14px;
  padding-right: 26px;
  padding-bottom: 6px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item[data-type="navigation-root"]
  > span.b3-list-item__toggle
  > svg {
  height: 6px;
  width: 10px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item[data-type="navigation-root"]
  > span.b3-list-item__toggle:hover
  > svg {
  color: #000;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item[data-type="navigation-root"]
  > span[data-type="more-root"]
  > svg {
  width: 9px;
  height: 9px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item[data-type="navigation-root"]
  > span[data-type="new"]
  > * {
  display: none;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item[data-type="navigation-root"]
  > span[data-type="new"] {
  width: 17px;
  height: 17px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  margin-left: 6px;
  background-image: url(data:image/png;base64,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);
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item--focus[data-type="navigation-root"]
  > .b3-list-item__text {
  color: #655757;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item[data-type="navigation-root"]
  > .b3-list-item__text {
  position: relative;
  top: -0.5px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  > .b3-list-item--focus[data-type="navigation-root"] {
  border-radius: 4px;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  ul
  li
  span[data-type="more-file"]
  > svg {
  width: 9px;
  height: 9px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  ul
  li
  span.b3-list-item__toggle
  svg {
  height: 6px;
  width: 10px;
  color: #999;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  ul
  li
  span.b3-list-item__toggle:hover
  svg {
  color: #000;
  background-color: none;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  ul
  li
  span[data-type="new"]
  > * {
  display: none;
}
#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  ul
  li
  span[data-type="new"] {
  width: 17px;
  height: 17px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  margin-left: 6px;
  background-image: url(data:image/png;base64,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);
}

#layouts
  .layout-tab-container
  > .file-tree
  > .fn__flex-1[data-type="navigation"]
  > ul.b3-list
  ul
  li
  span.popover__block {
  display: none;
}
.b3-list-item__toggle {
  padding-right: 8px;
}
.b3-list-item__icon {
  margin-right: 8px;
}
.b3-list-item__text:not([data-type="navigation-root"]) {
  position: relative;
  top: 0.5px;
  color: #655757;
}
.b3-list-item__toggle--hl:hover {
  background-color: none;
}
.b3-list--background
  .b3-list-item--focus:not(.dragover):not(.dragover__top):not(.dragover__bottom)
  > .b3-list-item__text {
  color: #333;
}
.b3-list--background
  .b3-list-item--focus:not(.dragover):not(.dragover__top):not(.dragover__bottom) {
  border-radius: 4px;
  background-color: #e9eaea;
}

/**** 反链面板 ****/

/**** 关系图 ****/

/**** 菜单 ****/
/* 右键菜单 */
.b3-menu {
  padding: 10px 0px;
}

/* 菜单项 */
.b3-menu__item {
  padding: 3px 16px 3px 16px;
  color: var(--b3-theme-on-surface);
}

/* 菜单分割线 */
.b3-menu__separator {
  height: 1px;
  margin: 6px 0;
}

/* 菜单项选中状态 */
.b3-menu__item:hover:not(.b3-menu__item--readonly):not(.b3-menu__item--custom),
.b3-menu__item--current {
  border-radius: 0px;
}

.b3-menu__item:hover:not(.b3-menu__item--readonly):not(.b3-menu__item--custom)
  > .b3-menu__label,
.b3-menu__item:hover:not(.b3-menu__item--readonly):not(.b3-menu__item--custom)
  > .b3-menu__accelerator,
.b3-menu__item:hover:not(.b3-menu__item--readonly):not(.b3-menu__item--custom)
  > .b3-menu__icon,
.b3-menu__item--current > .b3-menu__label,
.b3-menu__item--current > .b3-menu__accelerator,
.b3-menu__item--current > .b3-menu__icon {
  color: var(--b3-theme-on-background);
}

/*二级菜单*/
.b3-menu__submenu {
  box-shadow: var(--b3-point-shadow);
  margin: 2px;
  border: none !important;
  border-radius: 4px !important;
}

/* 菜单中文字描述 */
.b3-menu__item--readonly {
  line-height: 1.7em;
}

/* 字体样式设置弹框：调大间距，增大按钮 */
.protyle-font div {
  padding: 4px 0;
}

.b3-color__square {
  margin-right: 6px;
  height: 22px;
  width: 22px;
  line-height: 22px;
  border-radius: 2px;
}

.b3-text-filed[readonly] {
  border: none;
}

/**** Switch 开关 ****/
/* 未开启状态 */
.b3-switch:after {
  background-color: var(--switch-uncheck-color);
  border-color: var(--switch-uncheck-color);
}

/**** 弹框 ****/
/* 弹出设置框，如超级链接设置 */
.protyle-util {
  padding: 10px;
}

/**** 反链浮窗 ****/
/* 实验功能：优化反链浮窗面板的显示样式 */
.block__popover .protyle-breadcrumb:hover .protyle-breadcrumb__item,
.block__popover .protyle-breadcrumb:hover .protyle-breadcrumb__arrow {
  opacity: 1;
  /*悬浮时显示完整面包屑*/
  transition: var(--common-transition);
}

.block__popover .protyle-breadcrumb__item:not(:first-child),
.block__popover .protyle-breadcrumb__arrow:not(:first-child) {
  opacity: 0;
}

.block__popover .protyle-breadcrumb__item:first-child {
  font-weight: bold;
  /*文件名加粗*/
}

/*弱化右侧三点菜单图标*/
.block__popover .protyle-breadcrumb .b3-tooltips svg {
  opacity: 0.2;
  float: none;
  padding: 0;
}

/****** 实验功能结束 *******/

/********文档预览模式 ********/
/*预览工具栏*/
.protyle-preview__action {
  background-color: var(--b3-theme-background);
}

.protyle-preview__action button {
  padding: 5px 20px;
  font-weight: bold;
  border-radius: 100px;
}

/**** 滚动条 ****/
/* 通用滚动条 */
::-webkit-scrollbar {
  width: 5px;
}

::-webkit-scrollbar-thumb {
  background-color: var(--b3-scroll-color);
  border-radius: 30px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-hover-background);
}

/* 边栏滚动条 */
#layouts > .fn__flex-1 > .fn__flex-column ::-webkit-scrollbar {
  width: 6px;
}

#layouts > .fn__flex-1 > .fn__flex-column ::-webkit-scrollbar-thumb {
  background-color: var(--column-scrollbar-background);
}

#layouts > .fn__flex-1 > .fn__flex-column ::-webkit-scrollbar-thumb:hover {
  background-color: var(--column-scrollbar-hover-background);
}

/************** 二、文档编辑区 **************************/

/**编辑器**/
.protyle-title__input {
  background-color: transparent;
}
.protyle-content > .protyle-background {
  margin-bottom: 24px !important;
}

.protyle-background .protyle-background__iconw {
  left: max(calc((100% - min(1380px, max(808px, 49vw))) / 2), 96px) !important;
  /* height: auto; */
  width: 256px;
  margin-left: 3px;
  /* display: block; */
}

.protyle-background__iconw .protyle-icons {
  margin-top: 30px;
}

.protyle-background .protyle-background__iconw .protyle-background__icon {
  width: 78px;
  height: 78px;
  font-size: 54px;
  top: calc(30vh - 42px);
  line-height: 78px;
  text-align: center;
  border-radius: 4px;
}

/* .protyle-background[style*="64px"] {
  min-height: 210px !important;
  margin: 0px !important;
} */

.protyle-title {
  margin: 0 max(calc((100% - min(1380px, max(808px, 49vw))) / 2), 96px) !important;
  max-width: min(1380px, max(808px, 49vw));
}
.protyle-wysiwyg {
  padding: 16px max(calc((100% - min(1380px, max(808px, 49vw))) / 2), 96px)
    235px !important;
  max-width: min(1380px, max(808px, 49vw));
  margin: 0;
}

/**** 页签栏 ****/
/* 通用设置 */
.layout-tab-bar {
  border-bottom: var(--dock-border);
  background-color: var(--b3-theme-background);
  padding: 0;
}

/* 页签分隔线 */
.layout-tab-bar .item:not(:last-child) {
  box-shadow: 1px 1px 1px var(--b3-theme-surface);
}

/*清除页签栏边框对侧边栏的影响*/
.layout-tab-bar:empty {
  border-bottom: none;
}

/* 移除页签选中时的状态 */
.layout__wnd--active .layout-tab-bar .item--focus {
  box-shadow: none !important;
}

/* 清除标题过长时渐变效果 */
.layout-tab-bar .item__text::after,
.layout-tab-bar .item--focus .item__text::after,
.layout-tab-bar .item:hover:not(.item--focus) .item__text::after {
  background: transparent;
}

/* 标题过长时...表示 */
/* .layout-tab-bar .item__text {
  text-overflow: ellipsis;
  padding: 0 2px;
} */

/* 隐藏关闭按钮，悬浮时展现 */
.layout-tab-bar .item__close {
  opacity: 0;
  width: 0;
  height: 0;
  margin: 0;
  transition: all 300ms ease 0s;
}

.layout-tab-bar .item:hover .item__close {
  opacity: 1;
  width: 20px;
  height: 20px;
  margin: 0 4px;
}

.layout-tab-bar .item {
  padding: 0 8px;
  background-color: transparent;
  border-radius: 0;
  box-shadow: none;
  line-height: 24px;
}

.layout-tab-bar .item--focus .item__text {
  border-color: var(--b3-theme-primary);
  opacity: 1;
}

.layout-tab-bar .item__text {
  border-bottom: 2px solid transparent;
  padding: 4px 6px;
  text-overflow: ellipsis;
  opacity: 0.6;
}

/**** 面包屑 ****/
.protyle-breadcrumb .fn__flex-shrink {
  background-color: var(--b3-theme-background);
}

.protyle-breadcrumb {
  background-color: #fff;
  padding-top: 6px;
  padding-bottom: 6px;
}
/* .protyle-breadcrumb > .protyle-breadcrumb__bar > .protyle-breadcrumb__item:first-child {
  padding-left: 2px;
  padding-right: 7px;
} */
.protyle-breadcrumb
  > .protyle-breadcrumb__bar
  > .protyle-breadcrumb__item:first-child
  > svg.ft__primary {
  color: #b9b9b9;
  width: 11px;
  height: 11px;
  margin-right: 0;
  display: block;
}
.protyle-breadcrumb
  > .protyle-breadcrumb__bar
  > .protyle-breadcrumb__item:first-child:hover
  > svg {
  color: #000;
}
.protyle-breadcrumb
  > .protyle-breadcrumb__bar
  > .protyle-breadcrumb__item
  > svg.popover__block {
  display: none;
}
.protyle-breadcrumb
  > .protyle-breadcrumb__bar
  > .protyle-breadcrumb__item
  > span.protyle-breadcrumb__text {
  color: #999;
  font-size: 12px;
  margin: 0 2px;
}
.protyle-breadcrumb
  > .protyle-breadcrumb__bar
  > .protyle-breadcrumb__item
  > span.protyle-breadcrumb__text:hover {
  color: #000;
}
.protyle-breadcrumb > .protyle-breadcrumb__bar > svg.protyle-breadcrumb__arrow {
  background-size: contain;
  background-repeat: no-repeat;
  background-position: 50% 50%;
  background-image: url(data:image/png;base64,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);
}
.protyle-breadcrumb
  > .protyle-breadcrumb__bar
  > svg.protyle-breadcrumb__arrow
  > * {
  display: none;
}
.protyle-breadcrumb > button > svg {
  color: #d8d8d8;
}
.protyle-breadcrumb > button:hover > svg {
  color: #000;
}

/**** 浮出工具条 ****/
.protyle-toolbar {
  border-radius: 30px;
  padding: 1px 10px;
  z-index: 100;
}

/**** 页面标题 ****/

/**** 头图 ****/

/**** 块图标 ****/
/* 减淡块图标颜色 */
.protyle-gutters svg {
  color: var(--b3-scroll-color);
}

/* 增加块图标悬浮时背景色 */
.protyle-gutters button:hover svg {
  color: var(--b3-theme-primary);
}

.protyle-gutters button {
  /* padding: 2px 0 0 0;
  width: 20px;
  height: 20px;
  border-radius: 3px;
  margin-left:  3px;
  line-height: 20px; */
  /* background-color: var(--b3-theme-background);  */
  /* 强制块图标使用背景色，以避免在超级块等场景下显示不清楚 */
}

.protyle-gutters:hover button {
  /* background-color: var(--gutters-hover-background);  */
  /* 采用非透明色，避免在超级块等场景下显示不清楚 */
}

/* 调整设置行高后的块图标整体位置偏移 */
.protyle-gutters {
  /* margin: 0.625em 0; */
}
/* 滚动动效 */
.protyle-gutters {
  transition: all 150ms ease-out;
}

/**** 块属性 ****/
/* 将页面（标题）的属性移至左侧 */
.protyle-title .protyle-attr {
  left: 0;
}

/* 自定义属性 */
/* 日期 */
[data-type="tag"][data-content^="@"] {
  border-radius: 30px;
  background-color: var(--b3-border-color);
  padding: 1px 8px;
  border-bottom: none !important;
  font-size: 95%;
}

/* 待办事项 */
[custom-lz-todo] div[contenteditable="true"]::after {
  padding: 1px 8px;
  border-radius: 30px;
  font-size: 90%;
  margin: 0 2px;
}

[custom-lz-todo="todo"] > div[contenteditable="true"]:first-child::after,
[custom-lz-todo="todo"].li > .p div:first-child::after,
[custom-lz-todo="todo"].list > .li:first-child > .p div:first-child::after {
  content: "@todo";
  background-color: var(--b3-card-info-background);
  color: var(--b3-card-info-color);
}

[custom-lz-todo="inbox"] > div[contenteditable="true"]:first-child::after,
[custom-lz-todo="inbox"].li > .p div:first-child::after,
[custom-lz-todo="inbox"].list > .li:first-child > .p div:first-child::after {
  content: "@Inbox";
  background-color: var(--b3-card-info-background);
  color: var(--b3-card-info-color);
}

[custom-lz-todo="someday"] > div[contenteditable="true"]:first-child::after,
[custom-lz-todo="someday"].li > .p div:first-child::after,
[custom-lz-todo="someday"].list > .li:first-child > .p div:first-child::after {
  content: "@Someday";
  background-color: var(--b3-card-info-background);
  color: var(--b3-card-info-color);
}

[custom-lz-todo="doing"] > div[contenteditable="true"]:first-child::after,
[custom-lz-todo="doing"].li > .p div:first-child::after,
[custom-lz-todo="doing"].list > .li:first-child > .p div:first-child::after {
  content: "@Doing";
  background-color: var(--b3-card-warning-background);
  color: var(--b3-card-warning-color);
}

[custom-lz-todo="done"] > div[contenteditable="true"]:first-child::after,
[custom-lz-todo="done"].li > .p div:first-child::after,
[custom-lz-todo="done"].list > .li:first-child > .p div:first-child::after {
  content: "@Done";
  background-color: var(--b3-card-success-background);
  color: var(--b3-card-success-color);
}

/* 优先级 */
[custom-lz-priority] div[contenteditable="true"]::before {
  /* padding:1px 6px; */
  border-radius: 2px;
  font-size: 90%;
  position: absolute;
  left: -4px;
  top: 7px;
  width: 2px;
  height: 20px;
  /* margin:0 2px; */
}

[custom-lz-priority="P0"] > div[contenteditable="true"]:first-child::before {
  content: " ";
  background-color: #f56c6c;
}

[custom-lz-priority="P0"].li > .protyle-action > svg {
  color: #f56c6c;
}

[custom-lz-priority="P1"] > div[contenteditable="true"]:first-child::before {
  content: " ";
  background-color: #f56c6c;
}

[custom-lz-priority="P1"].li > .protyle-action > svg {
  color: #f56c6c;
}

[custom-lz-priority="P2"] > div[contenteditable="true"]:first-child::before {
  content: " ";
  background-color: #e6a23c;
}

[custom-lz-priority="P2"].li > .protyle-action > svg {
  color: #e6a23c;
}

[custom-lz-priority="P3"] > div[contenteditable="true"]:first-child::before {
  content: " ";
  background-color: #67c23a;
}

[custom-lz-priority="P3"].li > .protyle-action > svg {
  color: #67c23a;
}

/* [custom-lz-priority="P3"]> div[contenteditable="true"]:first-child::before,[custom-lz-priority="P3"].li > .p div:first-child::before,[custom-lz-priority="P3"].list>.li:first-child> .p div:first-child::before{} */

/**** 全屏模式 ****/
/**** 预览模式 ****/
.protyle-preview__action {
  background-color: var(--b3-theme-background);
}

.protyle-preview__action button {
  padding: 5px 20px;
  font-weight: bold;
  border-radius: 100px;
}

.protyle-preview__action button.protyle-preview__action--current {
  background-color: var(--b3-theme-primary);
  color: var(--b3-theme-surface);
}

/**** 其他 ****/
/* 大文件分页加载条 */
.protyle-scroll {
  opacity: 0;
  transition: var(--page-scrollbar-transition);
}

.protyle-scroll:hover {
  visibility: visible;
  opacity: 1;
}

/* 编辑器光标颜色 */
.protyle-wysiwyg {
  caret-color: var(--b3-theme-primary);
}

/* 文本选中样式 */
.protyle-wysiwyg ::selection {
  background-color: var(--text-selection-background);
  color: var(--text-selection-color);
}

/* 实验功能：清除鼠标划选区域*/
.protyle-select {
  background-color: transparent;
}

/* 隐藏空白行的提示文字 */
.protyle-wysiwyg [data-node-id] [spellcheck="false"]:focus:empty:after {
  content: "";
}

/************** 三、编辑器行内样式 ***********************/

/**** 双向链接、块引用 ****/
/* 样式一：下划线 */
.protyle-wysiwyg [data-node-id] span[data-type="block-ref"] {
  border-bottom: 1px dashed var(--b3-theme-primary);
  padding: 2px 0;
  margin: 0px 2px;
}

.protyle-wysiwyg [data-node-id] span[data-type="block-ref"]:hover {
  background-color: var(--b3-theme-primary-lightest);
}

/* 样式一 代码结束 */

/**** 超级链接 ****/
.b3-typography a,
.protyle-wysiwyg [data-node-id] span[data-type="a"] {
  color: var(--b3-protyle-inline-link-color);
  margin: 0 1px;
  text-decoration: none;
  padding: 2px 0;
}

.b3-typography a:hover,
.protyle-wysiwyg [data-node-id] span[data-type="a"]:hover {
  /* border-bottom: 1px solid inherit; */
}

/**** 粗体、斜体 ****/
/* 颜色卡片内的粗体继承卡片颜色 */
[style*="background-color"] strong,
[style*="background-color"] em {
  color: inherit;
}

/**** 下划线、删除线 ****/
[style*="background-color"] s {
  color: inherit;
}

.protyle-wysiwyg u,
.b3-typography u {
  text-decoration: none;
  border-bottom: 1px solid var(--b3-theme-on-background);
  border-color: inherit;
  padding: 2px 0;
}

/**** 高亮 ****/
.b3-typography mark,
.protyle-wysiwyg mark {
  border-radius: 2px;
  padding: 1px 2px;
}

/**** 行内代码 ****/
.b3-typography code:not(.hljs),
.protyle-wysiwyg code:not(.hljs) {
  font-size: 90%;
  margin: 0 1px;
  color: var(--inline-code-color);
}

/**** KBD ****/
.b3-typography kbd,
.protyle-wysiwyg kbd {
  font-size: 85%;
  margin: 0 1px;
}

/**** 数学公式 ****/

/**** 图片 ****/
.b3-typography img,
.protyle-wysiwyg img {
  border-radius: 4px;
}

/**** 标签 ****/
/* 红色标签 */
span[data-type="tag"][data-content="紧急"],
span[data-type="tag"][data-content="高优先级"],
span[data-type="tag"][data-content="待办"],
span[data-type="tag"][data-content="重要"],
span[data-type="tag"][data-content="高"],
span[data-type="tag"][data-content="注意"],
span[data-type="tag"][data-content="问题"] {
  background-color: var(--b3-card-error-background);
  color: var(--b3-card-error-color) !important;
  border: none !important;
  font-size: 90%;
  padding: 0 4px;
  margin: 0 2px;
  border-radius: 2px;
}

/* 橙色标签 */
span[data-type="tag"][data-content="TODO"],
span[data-type="tag"][data-content="todo"],
span[data-type="tag"][data-content="待办"],
span[data-type="tag"][data-content="中"],
span[data-type="tag"][data-content="中优先级"],
span[data-type="tag"][data-content="NOTE"],
span[data-type="tag"][data-content="提示"] {
  background-color: var(--b3-card-warning-background);
  color: var(--b3-card-warning-color) !important;
  border: none !important;
  font-size: 90%;
  padding: 0 4px;
  margin: 0 2px;
  border-radius: 2px;
}

/* 绿色标签 */
span[data-type="tag"][data-content="完成"],
span[data-type="tag"][data-content="低"],
span[data-type="tag"][data-content="低优先级"] {
  background-color: var(--b3-card-success-background);
  color: var(--b3-card-success-color) !important;
  border: none !important;
  font-size: 90%;
  padding: 0 4px;
  margin: 0 2px;
  border-radius: 2px;
}

/**** 颜色卡片 ****/
/* 超级块内颜色卡片增加padding */
.sb div[data-node-id][style*="background-color"] {
  padding: 8px 10px;
}

/* 嵌套内的颜色卡片恢复正常padding */
.sb
  div[data-node-id][style*="background-color"]
  div[data-node-id][style*="background-color"] {
  padding: var(--block-padding);
}

/* 颜色卡片内的块引用字体颜色与卡片保持一致 */
.protyle-wysiwyg [style*="background-color"] span[data-type="block-ref"] {
  color: inherit;
  border-color: inherit;
}

/* 颜色卡片内的超级链接字体颜色与卡片保持一致，并添加下划线 */
.protyle-wysiwyg [style*="background-color"][data-node-id] span[data-type="a"] {
  color: inherit;
  border-bottom-style: solid;
  border-bottom-width: 1px;
}

/* 颜色卡片内的圆点颜色与卡片保持一致 */
.protyle-wysiwyg [data-node-id][style*="background-color"] .protyle-action {
  color: inherit !important;
}

/**** 折叠 ****/
/* 消除官方折叠时高度固定为 24px 的设置，因为这样的设置改变字号和行高后会产生问题 */
.protyle-wysiwyg [data-node-id][fold="1"]:not(.li) {
  height: var(--line-height) !important;
}

/* 调整折叠时段落样式 */
.protyle-wysiwyg [data-type="NodeParagraph"][fold="1"] {
  padding-left: 18px;
  opacity: 1 !important;
}

/* 段落折叠后添加三角形标识 */
.protyle-wysiwyg [data-type="NodeParagraph"][fold="1"]:after {
  content: "";
  background-color: var(--b3-theme-on-background);
  width: 12px;
  height: var(--line-height);
  position: absolute;
  left: 4px;
  top: var(--padding-top-bottom);
  -webkit-mask: url(assets/iconTriangle.svg) no-repeat;
  mask: url(assets/iconTriangle.svg) no-repeat;
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
}

/* 调整折叠时引述块样式 */
.protyle-wysiwyg [data-type="NodeBlockquote"][fold="1"] {
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* 调整折叠时引述块下列表及段落样式 */
.protyle-wysiwyg [data-type="NodeBlockquote"][fold="1"] .protyle-action {
  display: none;
  /* 隐藏大纲圆点 */
}

.protyle-wysiwyg [data-type="NodeBlockquote"][fold="1"] div {
  margin-left: 0 !important;
  margin-right: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none;
}

/* 调整折叠时大纲、列表样式 */
.protyle-wysiwyg [data-type="NodeList"][fold="1"] {
  height: calc(var(--line-height) + var(--padding-top-bottom) * 2) !important;
}

.protyle-wysiwyg [data-type="NodeList"][fold="1"] div {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

.protyle-wysiwyg [data-type="NodeList"][fold="1"] > [data-type="NodeListItem"] {
  padding-top: var(--padding-top-bottom) !important;
  padding-bottom: var(--padding-top-bottom) !important;
}

/************** 四、排版 **************************/
/**** 整体设置 ****/
.b3-typography,
.protyle-wysiwyg [data-node-id] {
  line-height: var(--line-height);
  letter-spacing: 0px;
  /* 字间距 */
  word-spacing: 0px;
  /* 词间距 */
  word-break: normal;
  word-wrap: break-word;
}

/* 段落及通用块 */
.b3-typography p,
.b3-typography [data-node-id],
.protyle-wysiwyg p,
.protyle-wysiwyg [data-node-id] {
  margin: var(--block-margin);
  padding: var(--block-padding);
  line-height: var(--line-height) !important;
}

/**** 超级块、横排 ****/
/*** 调整超级块中元素间距 ***/
.protyle-wysiwyg .sb div[data-node-id] {
  margin: 4px;
  border-radius: 3px;
}

.protyle-wysiwyg [data-node-id].sb[data-sb-layout="col"] .sb,
.protyle-wysiwyg [data-node-id].sb[data-sb-layout="row"] .sb {
  margin: 4px;
}

/**** 嵌入块 ****/

.protyle-wysiwyg [data-node-id].render-node[data-type="NodeBlockQueryEmbed"] {
  background-color: var(--b3-theme-surface-light);
  border-radius: 0 4px 4px 0;
}

/* iframe */
.b3-typography iframe,
.protyle-wysiwyg iframe {
  border-color: transparent;
}

.b3-typography iframe:hover,
.protyle-wysiwyg iframe:hover {
  /* border-color: var(--b3-border-color); */
}

.protyle-wysiwyg [data-node-id].iframe .protyle-action__drag:after {
  content: "";
  background-color: #eee;
  width: 12px;
  height: 2px;
  display: block;
  position: absolute;
  bottom: 0;
  right: 0;
  border-radius: 0px;
  box-shadow: none;
  box-sizing: border-box;
  cursor: nwse-resize;
}

.protyle-wysiwyg [data-node-id].iframe .protyle-action__drag {
  height: 12px;
  width: 2px;
  background-color: #eee;
  display: none;
  border-radius: 4px;
  cursor: nwse-resize;
  transition: var(--b3-transition);
  position: absolute;
  right: -4px;
  bottom: 0;
  box-shadow: none;
  box-sizing: border-box;
}

/**** 标题 ****/
.b3-typography .h1,
.b3-typography h1,
.b3-typography .h2,
.b3-typography h2,
.b3-typography .h3,
.b3-typography h3,
.b3-typography .h4,
.b3-typography h4,
.b3-typography .h5,
.b3-typography h5,
.b3-typography .h6,
.b3-typography h6,
.protyle-wysiwyg .h1,
.protyle-wysiwyg h1,
.protyle-wysiwyg .h2,
.protyle-wysiwyg h2,
.protyle-wysiwyg .h3,
.protyle-wysiwyg h3,
.protyle-wysiwyg .h4,
.protyle-wysiwyg h4,
.protyle-wysiwyg .h5,
.protyle-wysiwyg h5,
.protyle-wysiwyg .h6,
.protyle-wysiwyg h6 {
}

.b3-typography .h1,
.b3-typography h1,
.protyle-wysiwyg .h1,
.protyle-wysiwyg h1 {
  margin: 12px 0 8px 0;
  padding: 0.2em 4px;
  font-size: 1.8em;
  border-bottom: 1px solid var(--b3-border-color);
  color: var(--h1-color);
}

.b3-typography .h2,
.b3-typography h2,
.protyle-wysiwyg .h2,
.protyle-wysiwyg h2 {
  margin: 14px 0 0 0;
  padding: 0.1em 4px;
  font-size: 1.6em;
  border: none;
  color: var(--h2-color);
}

.b3-typography .h3,
.b3-typography h3,
.protyle-wysiwyg .h3,
.protyle-wysiwyg h3 {
  margin: 12px 0 0 0;
  font-size: 1.4em;
  color: var(--h3-color);
}

.b3-typography .h4,
.b3-typography h4,
.protyle-wysiwyg .h4,
.protyle-wysiwyg h4 {
  margin: 10px 0 0 0;
  font-size: 1.2em;
  color: var(--h4-color);
}

.b3-typography .h5,
.b3-typography h5,
.protyle-wysiwyg .h5,
.protyle-wysiwyg h5 {
  /* margin: 6px 0 0 0; */
  font-size: 1.13em;
  color: var(--h5-color);
}

.b3-typography .h6,
.b3-typography h6,
.protyle-wysiwyg .h6,
.protyle-wysiwyg h6 {
  /* margin: 6px 0 0 0; */
  font-size: 1em;
  color: var(--h6-color);
}

/**** 大纲、列表 ****/
/* 圆点悬浮时外圈样式 */
.protyle-wysiwyg [data-node-id].li > .protyle-action:hover:after {
  opacity: 0.2;
  /* 圆点悬浮时外圈透明度 */
}

/* 大纲折叠时样式 */
.protyle-wysiwyg [data-node-id].li[fold="1"] > .protyle-action:after {
  background-color: var(--b3-theme-on-surface);
  opacity: 0.2;
}

.protyle-wysiwyg [data-node-id].li[fold="1"] > .protyle-action {
  color: var(--b3-theme-on-background);
  transform: scale(1.1);
  font-weight: bold;
}

/* 圆点悬浮时放大效果（折叠时无效果） */
.protyle-wysiwyg [data-node-id].li:not([fold="1"]) > .protyle-action:hover svg,
.protyle-wysiwyg
  [data-node-id].li:not([fold="1"])
  > .protyle-action:hover:after {
  transition: all 0.2s ease-in-out;
  transform: scale(1.22);
}

/* 消除待办事项图标背景色 */
.protyle-wysiwyg [data-node-id].li[fold="1"] > .protyle-action--task:after,
.protyle-wysiwyg [data-node-id].li > .protyle-action--task:hover:after {
  background: transparent !important;
}

/* 待办事项已完成的样式 */
.protyle-task--done > .p,
.protyle-task--done > .protyle-action svg {
  opacity: 0.7;
  /* text-decoration: line-through; */
}

/**** 引述 ****/
.b3-typography blockquote,
.b3-typography .bq,
.protyle-wysiwyg blockquote,
.protyle-wysiwyg .bq {
  border-left: var(--quote-border-width) solid var(--b3-theme-primary);
  border-color: var(--quote-border-color);
  color: var(--quote-color);
  background-color: var(--quote-background);
  margin: 1em 2em 1em 2em;
  padding: 0px 4px;
  padding-left: 1em;
}

/* 调整引述在超级块中的样式 */
.protyle-wysiwyg .sb blockquote,
.protyle-wysiwyg .sb .bq {
  border-left: 3px solid var(--b3-border-color);
  margin: var(--allen-block-margin);
  padding: var(--allen-block-padding);
}

/**** 代码块 ****/
.b3-typography .code-block,
.protyle-wysiwyg .code-block {
  padding: 0;
  margin: 1em 0;
  line-height: 1.625 !important;
}

/**** 表格 ****/
/* 去除默认背景色 */
.b3-typography table tbody tr,
.protyle-wysiwyg table tbody tr {
  background: transparent;
}

/* 添加行悬浮时背景色 */
.b3-typography table tr:hover,
.protyle-wysiwyg table tr:hover {
  background-color: var(--b3-theme-surface) !important;
}
